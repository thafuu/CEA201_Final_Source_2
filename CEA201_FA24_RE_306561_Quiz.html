<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEA201 FA24 RE Quiz - Student ID: 306561</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .quiz-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .quiz-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .quiz-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .quiz-header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .score-summary {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .score-item {
            text-align: center;
        }

        .score-number {
            font-size: 1.5em;
            font-weight: bold;
        }

        .score-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .quiz-content {
            padding: 40px;
        }

        .question-item {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .question-item.answered {
            border-color: #28a745;
            background: #f8fff9;
        }

        .question-item.incorrect {
            border-color: #dc3545;
            background: #fff8f8;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .question-number {
            background: #667eea;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .question-status {
            font-size: 1.2em;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.5;
            font-weight: 500;
        }

        .options-container {
            margin-bottom: 15px;
        }

        .option-item {
            display: flex;
            align-items: center;
            background: white;
            margin: 8px 0;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-item:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option-item.selected {
            border-color: #667eea;
            background: #e3f2fd;
        }

        .option-item.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
            font-weight: bold;
        }

        .option-item.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }

        .option-item.user-selected {
            border-color: #007bff;
            background: #cce7ff;
            font-weight: bold;
        }

        .option-item.user-incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
            text-decoration: line-through;
        }

        .answer-indicator {
            margin-left: 10px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .correct-indicator {
            color: #28a745;
        }

        .incorrect-indicator {
            color: #dc3545;
        }

        .explanation {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #856404;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-size: 1em;
        }

        .explanation p {
            color: #533f04;
            line-height: 1.5;
            margin: 0;
        }

        .action-buttons {
            background: white;
            padding: 20px 40px;
            border-top: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .icon {
            margin-right: 8px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .quiz-container {
                margin: 10px;
                padding: 20px;
            }
            
            .quiz-header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1>üñ•Ô∏è CEA201 FA24 RE Quiz</h1>
            <p>Computer Architecture - Student ID: 306561</p>
            <div class="score-summary">
                <div class="score-item">
                    <div class="score-number" id="totalQuestions">50</div>
                    <div class="score-label">T·ªïng c√¢u</div>
                </div>
                <div class="score-item">
                    <div class="score-number" id="answeredCount">0</div>
                    <div class="score-label">ƒê√£ tr·∫£ l·ªùi</div>
                </div>
                <div class="score-item">
                    <div class="score-number" id="correctCount">0</div>
                    <div class="score-label">ƒê√∫ng</div>
                </div>
                <div class="score-item">
                    <div class="score-number" id="scorePercentage">0%</div>
                    <div class="score-label">ƒêi·ªÉm s·ªë</div>
                </div>
            </div>
        </div>

        <div class="quiz-content" id="quizContent">
            <!-- Questions will be dynamically generated here -->
        </div>

        <div class="action-buttons">
            <button class="btn btn-secondary" onclick="resetQuiz()">
                üîÑ L√†m l·∫°i to√†n b·ªô
            </button>
            <div>
                <button class="btn btn-primary" onclick="showAllAnswers()">
                    üëÅÔ∏è Hi·ªán t·∫•t c·∫£ ƒë√°p √°n
                </button>
                <button class="btn btn-success" onclick="checkAllAnswers()">
                    ‚úÖ Ki·ªÉm tra k·∫øt qu·∫£
                </button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                question: "Which of the following components was used in the first ENIAC computer?",
                options: [
                    "Bipolar transistors",
                    "Field transistors",
                    "Vacuum tubes",
                    "Semiconductor ICs"
                ],
                correct: 2,
                type: "single",
                explanation: "M√°y t√≠nh ENIAC, m·ªôt trong nh·ªØng m√°y t√≠nh ƒëi·ªán t·ª≠ ƒë·∫ßu ti√™n, ƒë∆∞·ª£c ch·∫ø t·∫°o b·∫±ng ·ªëng ch√¢n kh√¥ng, v√¨ v√†o th·ªùi ƒëi·ªÉm ƒë√≥ c√°c transistor v√† m·∫°ch t√≠ch h·ª£p (IC) ch∆∞a ƒë∆∞·ª£c ph√°t minh."
            },
            {
                id: 2,
                question: "Which of the following statements is NOT part of the Von Neumann principle?",
                options: [
                    "Computers can operate according to a stored program",
                    "The computer uses a program counter to indicate the location of the next statement",
                    "A computer's memory is addressable",
                    "Each statement must have a memory area containing the address of the next instruction"
                ],
                correct: 3,
                type: "single",
                explanation: "Nguy√™n l√Ω Von Neumann bao g·ªìm c√°c kh√°i ni·ªám: m√°y t√≠nh ho·∫°t ƒë·ªông d·ª±a tr√™n ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ, s·ª≠ d·ª•ng b·ªô ƒë·∫øm ch∆∞∆°ng tr√¨nh ƒë·ªÉ x√°c ƒë·ªãnh l·ªánh ti·∫øp theo, v√† b·ªô nh·ªõ c√≥ th·ªÉ ƒë·ªãa ch·ªâ h√≥a. Tuy nhi√™n, kh√¥ng y√™u c·∫ßu m·ªói l·ªánh ph·∫£i c√≥ v√πng nh·ªõ ch·ª©a ƒë·ªãa ch·ªâ c·ªßa l·ªánh ti·∫øp theo."
            },
            {
                id: 3,
                question: "Regarding the ALU (Arithmetic Logic Unit), besides basic arithmetic operations, what operations can it perform? (Choose 2 answers)",
                options: [
                    "It handles logical operations such as AND, OR, XOR, NOT",
                    "It handles data transfer operations like MOVE, GO, JUMP",
                    "It handles decoding operations after an instruction is fetched",
                    "It handles bit shifting operations like multiplication and division by powers of two"
                ],
                correct: [0, 3],
                type: "multiple",
                explanation: "B·ªô ALU (Arithmetic Logic Unit) kh√¥ng ch·ªâ th·ª±c hi·ªán c√°c ph√©p to√°n s·ªë h·ªçc c∆° b·∫£n m√† c√≤n th·ª±c hi·ªán: ph√©p to√°n logic (nh∆∞ AND, OR, XOR, NOT) v√† d·ªãch bit (bit shifting), d√πng ƒë·ªÉ nh√¢n ho·∫∑c chia v·ªõi l≈©y th·ª´a c·ªßa 2."
            },
            {
                id: 4,
                question: "Consider some computer generations:<br>1: The first computer generation<br>2: The second computer generation<br>3: The third computer generation<br><br>And some technologies used in computer generations:<br>A: Vacuum Tubes<br>B: Transistors<br>C: Integrated Circuits (IC)<br>D: Microprocessors<br><br>Select the main technology applied in each computer generation:",
                options: [
                    "1-D; 2-C; 3-B",
                    "1-A; 2-C; 3-D",
                    "1-A; 2-B; 3-C",
                    "1-D; 2-B; 3-C"
                ],
                correct: 2,
                type: "single",
                explanation: "Th·∫ø h·ªá m√°y t√≠nh ƒë·∫ßu ti√™n s·ª≠ d·ª•ng ·ªëng ch√¢n kh√¥ng (Vacuum Tubes), ti·∫øp theo l√† transistor v√† m·∫°ch t√≠ch h·ª£p."
            },
            {
                id: 5,
                question: "What electronic component is used to govern operations such as fetching, decoding, and performing arithmetic operations executed by a processor?",
                options: [
                    "Using a system clock",
                    "Using a quartz crystal",
                    "Using an analog-to-digital converter",
                    "Using a counter"
                ],
                correct: 0,
                type: "single",
                explanation: "M·ªôt h·ªá th·ªëng xung nh·ªãp (system clock) ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë·ªìng b·ªô h√≥a c√°c ho·∫°t ƒë·ªông c·ªßa b·ªô x·ª≠ l√Ω, bao g·ªìm n·∫°p l·ªánh, gi·∫£i m√£, v√† th·ª±c hi·ªán c√°c ph√©p to√°n."
            },
            {
                id: 6,
                question: "The pulse rate in the clock system is known as the:",
                options: [
                    "Clock cycle",
                    "Clock speed",
                    "Clock time",
                    "Clock tick"
                ],
                correct: 1,
                type: "single",
                explanation: "Clock speed l√† t·∫ßn s·ªë c·ªßa xung nh·ªãp, ƒëo l∆∞·ªùng t·ªëc ƒë·ªô th·ª±c hi·ªán c√°c ho·∫°t ƒë·ªông c·ªßa CPU trong m·ªôt gi√¢y."
            },
            {
                id: 7,
                question: "The instruction, which adds 1 to the value in a memory location, has five stages: fetch opcode (four cycles), fetch operand address (three cycles), fetch operand (three cycles), add 1 to operand (three cycles), and store operand (three cycles). An interrupt sends a request at the beginning of the fetch operand stage. How many cycles does the processor take to enter the interrupt processing cycle?",
                options: [
                    "6",
                    "7",
                    "8",
                    "9",
                    "10"
                ],
                correct: 2,
                type: "single",
                explanation: "Sau khi ho√†n th√†nh 3 chu k·ª≥ trong 'Fetch operand', CPU c·∫ßn th√™m 5 chu k·ª≥ ƒë·ªÉ x·ª≠ l√Ω ng·∫Øt, t·ªïng c·ªông: 3 + 5 = 8 chu k·ª≥."
            },
            {
                id: 8,
                question: "Which representation is most efficient to perform arithmetic operations on signed integer numbers?",
                options: [
                    "Sign-magnitude",
                    "2's complement",
                    "1's & 2's complement",
                    "1's complement"
                ],
                correct: 1,
                type: "single",
                explanation: "Bi·ªÉu di·ªÖn s·ªë nguy√™n c√≥ d·∫•u b·∫±ng b√π 2 l√† hi·ªáu qu·∫£ nh·∫•t cho c√°c ph√©p to√°n s·ªë h·ªçc, v√¨ n√≥ lo·∫°i b·ªè s·ª± m∆° h·ªì c·ªßa s·ªë 0 v√† ƒë∆°n gi·∫£n h√≥a c√°c ph√©p c·ªông, tr·ª´."
            },
            {
                id: 9,
                question: "Interprets the instructions in memory and causes them to be executed.",
                options: [
                    "Registers",
                    "CPU interconnection",
                    "Arithmetic and Logic Unit (ALU)",
                    "I/O Modules",
                    "Control Unit (CU)"
                ],
                correct: 4,
                type: "single",
                explanation: "Control Unit (B·ªô ƒëi·ªÅu khi·ªÉn) c√≥ nhi·ªám v·ª• gi·∫£i m√£ c√°c l·ªánh trong b·ªô nh·ªõ v√† k√≠ch ho·∫°t c√°c th√†nh ph·∫ßn li√™n quan ƒë·ªÉ th·ª±c thi l·ªánh."
            },
            {
                id: 10,
                question: "What is the function of the bus system in the computer?",
                options: [
                    "Extend the communication function of the computer",
                    "Connect components in the computer",
                    "Control peripherals",
                    "Transform signals in the computer",
                    "All of the mentioned"
                ],
                correct: 0,
                type: "single",
                explanation: "H·ªá th·ªëng bus trong m√°y t√≠nh l√† m·ªôt k√™nh giao ti·∫øp gi·ªØa c√°c th√†nh ph·∫ßn kh√°c nhau nh∆∞ CPU, b·ªô nh·ªõ v√† c√°c thi·∫øt b·ªã ngo·∫°i vi."
            },
            {
                id: 11,
                question: "What is the correct order of memory access speed from fastest to slowest?",
                options: [
                    "Registers > Cache > RAM > SSD",
                    "Cache > Registers > RAM > SSD",
                    "Registers > Cache > SSD > RAM",
                    "Cache > Registers > SSD > RAM",
                    "All of the mentioned are wrong"
                ],
                correct: 0,
                type: "single",
                explanation: "Th·ª© t·ª± t·ªëc ƒë·ªô truy c·∫≠p b·ªô nh·ªõ t·ª´ nhanh nh·∫•t ƒë·∫øn ch·∫≠m nh·∫•t l√†: Registers (ƒë∆∞·ª£c s·ª≠ d·ª•ng tr·ª±c ti·∫øp b·ªüi CPU), Cache (b·ªô nh·ªõ ƒë·ªám gi√∫p truy xu·∫•t d·ªØ li·ªáu nhanh), RAM (b·ªô nh·ªõ truy c·∫≠p ng·∫´u nhi√™n), v√† SSD (l√† b·ªô nh·ªõ l∆∞u tr·ªØ ch·∫≠m nh·∫•t trong c√°c l·ª±a ch·ªçn n√†y)."
            },
            {
                id: 12,
                question: "What is the special feature of Memory Cache?",
                options: [
                    "Allows faster access than DRAM memory",
                    "Memory cache is outboard storage memory",
                    "Allows faster access than CPU registers",
                    "Fixed memory - Read Only Memory",
                    "Has a larger capacity than HDD"
                ],
                correct: 0,
                type: "single",
                explanation: "B·ªô nh·ªõ Cache cung c·∫•p t·ªëc ƒë·ªô truy c·∫≠p nhanh h∆°n nhi·ªÅu so v·ªõi DRAM. Cache th∆∞·ªùng ƒë∆∞·ª£c d√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu t·∫°m th·ªùi m√† CPU c·∫ßn truy c·∫≠p nhanh."
            },
            {
                id: 13,
                question: "A set-associative cache consists of 64 lines, divided into four-line sets. 2^19-words main memory contains 4K blocks of 128 words each. How many bits are there in the tag field of the cache?",
                options: [
                    "5",
                    "6",
                    "7",
                    "8",
                    "9"
                ],
                correct: 1,
                type: "single",
                explanation: "ƒê·ªÉ t√≠nh s·ªë bit trong tr∆∞·ªùng tag c·ªßa b·ªô nh·ªõ cache, c·∫ßn ph·∫£i t√≠nh to√°n s·ªë l∆∞·ª£ng bit cho block offset, s·ªë bit cho ch·ªâ m·ª•c (index), v√† s·ªë bit cho tag. T√≠nh to√°n chi ti·∫øt cho ra 6 bit cho tr∆∞·ªùng tag."
            },
            {
                id: 14,
                question: "Which one of the following is invalid about RAM?",
                options: [
                    "Both static and dynamic RAMs are volatile; that is, power must be continuously supplied to the memory to preserve the bit values.",
                    "A dynamic memory cell is simpler and smaller than a static memory cell.",
                    "Both static and dynamic RAMs require the supporting refresh circuitry.",
                    "SRAMs are somewhat faster than DRAMs"
                ],
                correct: 2,
                type: "single",
                explanation: "SRAM (Static RAM) kh√¥ng y√™u c·∫ßu l√†m m·ªõi d·ªØ li·ªáu, nh∆∞ng DRAM (Dynamic RAM) c·∫ßn c√≥ m·∫°ch l√†m m·ªõi v√¨ n√≥ m·∫•t d·ªØ li·ªáu theo th·ªùi gian."
            },
            {
                id: 15,
                question: "In error-correcting code (single ECC), how many bits are used to correct one bit in 8-bit data?",
                options: [
                    "4",
                    "5",
                    "6",
                    "7"
                ],
                correct: 1,
                type: "single",
                explanation: "ƒê·ªÉ s·ª≠a l·ªói m·ªôt bit trong b·ªô d·ªØ li·ªáu 8 bit s·ª≠ d·ª•ng m√£ ECC (Error-Correcting Code), c·∫ßn √≠t nh·∫•t 5 bit."
            },
            {
                id: 16,
                question: "What is correct about increasing performance and endurance?",
                options: [
                    "Hard Disk > DRAM > NAND Flash > SRAM",
                    "Hard Disk > NAND Flash > DRAM > SRAM",
                    "NAND Flash > Hard Disk > SRAM > DRAM",
                    "Hard Disk > DRAM > SRAM > NAND Flash"
                ],
                correct: 1,
                type: "single",
                explanation: "ƒê·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t v√† ƒë·ªô b·ªÅn c·ªßa h·ªá th·ªëng, th·ª© t·ª± t·ª´ thi·∫øt b·ªã l∆∞u tr·ªØ ch·∫≠m nh·∫•t ƒë·∫øn nhanh nh·∫•t l√†: Hard Disk (ch·∫≠m nh·∫•t), NAND Flash (SSD), DRAM, v√† SRAM (nhanh nh·∫•t)."
            },
            {
                id: 17,
                question: "With the hard disk data layout, the set of all the tracks in the same relative position on the platter is called:",
                options: [
                    "Cylinder",
                    "Tracks",
                    "Inter-track gap",
                    "Sector"
                ],
                correct: 0,
                type: "single",
                explanation: "Trong ·ªï c·ª©ng, m·ªôt Cylinder l√† t·∫≠p h·ª£p c√°c track ·ªü c√πng m·ªôt v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi tr√™n t·∫•t c·∫£ c√°c ƒëƒ©a trong ·ªï."
            },
            {
                id: 18,
                question: "The speed of data delivery is your main concern when configuring a RAID drive for a Media Streaming Server. This server has two hard disks installed. What type of RAID should you install, and what type of data will be stored on Disk 1 and Disk 2?",
                options: [
                    "RAID 0 - Disk 1 (Stripe) and Disk 2 (Stripe)",
                    "RAID 0 - Disk 1 (Mirror) and Disk 2 (Mirror)",
                    "RAID 1 - Disk 1 (Stripe) and Disk 2 (Stripe)",
                    "RAID 1 - Disk 1 (Mirror) and Disk 2 (Mirror)"
                ],
                correct: 0,
                type: "single",
                explanation: "RAID 0 chia nh·ªè d·ªØ li·ªáu v√† ghi tr√™n c√°c ƒëƒ©a kh√°c nhau (striping), gi√∫p tƒÉng t·ªëc ƒë·ªô truy xu·∫•t d·ªØ li·ªáu, ph√π h·ª£p v·ªõi c√°c h·ªá th·ªëng c·∫ßn t·ªëc ƒë·ªô cao nh∆∞ m√°y ch·ªß ph√°t video."
            },
            {
                id: 19,
                question: "In terms of performance, what is the main advantage of a solid-state drive over a magnetic disk?",
                options: [
                    "A solid-state drive has faster access time, lower latency, and higher reliability.",
                    "A solid-state drive has larger capacity, lower power consumption, and lower cost.",
                    "A solid-state drive has better compatibility, longer lifespan, and higher security.",
                    "A solid-state drive has none of the mentioned advantages over a magnetic disk."
                ],
                correct: 0,
                type: "single",
                explanation: "SSD (Solid State Drive) c√≥ th·ªùi gian truy c·∫≠p nhanh h∆°n, ƒë·ªô tr·ªÖ th·∫•p h∆°n v√† ƒë·ªô tin c·∫≠y cao h∆°n so v·ªõi ·ªï c·ª©ng c∆° h·ªçc (HDD) v√¨ kh√¥ng c√≥ c√°c b·ªô ph·∫≠n chuy·ªÉn ƒë·ªông."
            },
            {
                id: 20,
                question: "Assume that a truth table has inputs 0,0 ‚Üí output 1 and inputs 1,0 ‚Üí output 1. Which basic operator matches the table above?",
                options: [
                    "AND",
                    "OR",
                    "NAND",
                    "NOR"
                ],
                correct: 1,
                type: "single",
                explanation: "M·ªôt b·∫£ng ch√¢n l√Ω v·ªõi hai gi√° tr·ªã ƒë·∫ßu v√†o 1,0 v√† 1 s·∫Ω tr·∫£ v·ªÅ k·∫øt qu·∫£ OR. V√¨ v·ªõi OR, ch·ªâ c·∫ßn m·ªôt trong hai ƒë·∫ßu v√†o l√† 1, ƒë·∫ßu ra s·∫Ω l√† 1."
            },
            {
                id: 21,
                question: "In isolated I/O:",
                options: [
                    "The I/O devices and the memory share the same address space",
                    "The I/O devices have a separate address space from memory",
                    "The memory and I/O devices have an associated address space",
                    "A part of the memory is specifically set aside for the I/O operation",
                    "None of the mentioned"
                ],
                correct: 1,
                type: "single",
                explanation: "Trong I/O isolated, c√°c thi·∫øt b·ªã I/O v√† b·ªô nh·ªõ c√≥ kh√¥ng gian ƒë·ªãa ch·ªâ ri√™ng bi·ªát, nghƒ©a l√† ch√∫ng kh√¥ng chia s·∫ª c√πng m·ªôt kh√¥ng gian ƒë·ªãa ch·ªâ."
            },
            {
                id: 22,
                question: "What is an interrupt vector?",
                options: [
                    "Part of memory which contains the addresses of interrupt handlers",
                    "A signal an I/O device sends to CPU",
                    "A signal an I/O software sends to CPU",
                    "None of the mentioned"
                ],
                correct: 0,
                type: "single",
                explanation: "Interrupt vector l√† ph·∫ßn b·ªô nh·ªõ ch·ª©a c√°c ƒë·ªãa ch·ªâ c·ªßa interrupt handlers, d√πng ƒë·ªÉ x·ª≠ l√Ω c√°c ng·∫Øt t·ª´ c√°c thi·∫øt b·ªã ngo·∫°i vi."
            },
            {
                id: 23,
                question: "What is the main distinction between Interrupt-Driven I/O and Direct Memory Access (DMA)?",
                options: [
                    "Interrupt-Driven I/O involves the CPU in every data transfer, while DMA bypasses the CPU and transfers data directly between I/O device and memory",
                    "Interrupt-Driven I/O requires special hardware and software support, while DMA does not need any additional components",
                    "Interrupt-Driven I/O is suitable for small and frequent data transfers, while DMA is suitable for large and infrequent data transfers",
                    "All of the mentioned"
                ],
                correct: 0,
                type: "single",
                explanation: "Interrupt-Driven I/O y√™u c·∫ßu CPU tham gia v√†o m·ªói l·∫ßn truy·ªÅn d·ªØ li·ªáu, trong khi DMA (Direct Memory Access) cho ph√©p truy·ªÅn t·∫£i d·ªØ li·ªáu tr·ª±c ti·∫øp gi·ªØa thi·∫øt b·ªã I/O v√† b·ªô nh·ªõ m√† kh√¥ng c·∫ßn qua CPU."
            },
            {
                id: 24,
                question: "What role does an Application Programming Interface (API) play in software development?",
                options: [
                    "It allows program access to hardware resources using high-level language libraries",
                    "It defines low-level machine instructions",
                    "It provides a standard for binary portability",
                    "It manages system resources for the operating system and machine language instructions"
                ],
                correct: 0,
                type: "single",
                explanation: "API (Application Programming Interface) cho ph√©p ch∆∞∆°ng tr√¨nh truy c·∫≠p c√°c t√†i nguy√™n ph·∫ßn c·ª©ng th√¥ng qua c√°c th∆∞ vi·ªán ng√¥n ng·ªØ l·∫≠p tr√¨nh c·∫•p cao."
            },
            {
                id: 25,
                question: "Which state indicates that a process is currently being executed by the processor?",
                options: [
                    "Running",
                    "Ready",
                    "NewBorn",
                    "Halted"
                ],
                correct: 0,
                type: "single",
                explanation: "Running l√† tr·∫°ng th√°i khi m·ªôt ti·∫øn tr√¨nh ƒëang ƒë∆∞·ª£c th·ª±c thi b·ªüi CPU."
            },
            {
                id: 26,
                question: "Which of the following statements is incorrect about Translation Look-aside Buffer (TLB)?",
                options: [
                    "The use of TLB eliminates the need for keeping a page table in memory",
                    "TLB only maintains a subset of the entries stored in the full memory-based page table",
                    "When there is a TLB miss the system needs to access the page table",
                    "A translation lookaside buffer (TLB) is a memory cache that stores the recent translations of virtual memory to physical memory"
                ],
                correct: 0,
                type: "single",
                explanation: "TLB (Translation Lookaside Buffer) l∆∞u tr·ªØ m·ªôt ph·∫ßn c·ªßa b·∫£ng trang v√† gi√∫p gi·∫£m thi·ªÉu vi·ªác ph·∫£i truy c·∫≠p b·∫£ng trang trong b·ªô nh·ªõ."
            },
            {
                id: 27,
                question: "How does Boolean algebra contribute to the design of digital circuits?",
                options: [
                    "It simplifies the implementation of desired functions",
                    "It helps in the analysis of economic data",
                    "It facilitates the design of analog circuits",
                    "It is primarily used for chemical engineering and physical engineering"
                ],
                correct: 0,
                type: "single",
                explanation: "Boolean algebra l√† c√¥ng c·ª• quan tr·ªçng trong thi·∫øt k·∫ø m·∫°ch s·ªë v√¨ n√≥ gi√∫p ƒë∆°n gi·∫£n h√≥a vi·ªác tri·ªÉn khai c√°c h√†m logic."
            },
            {
                id: 28,
                question: "When both inputs are 0, what is the result of a NOR gate?",
                options: [
                    "0",
                    "1",
                    "2",
                    "Undefined",
                    "#NA"
                ],
                correct: 1,
                type: "single",
                explanation: "C·ªïng NOR s·∫Ω tr·∫£ v·ªÅ 1 khi c·∫£ hai ƒë·∫ßu v√†o ƒë·ªÅu l√† 0, ƒëi·ªÅu n√†y l√†m n√≥ tr√°i ng∆∞·ª£c v·ªõi c·ªïng OR."
            },
            {
                id: 29,
                question: "The operation yields true (binary value 1) if and only if both of its operands are true.",
                options: [
                    "OR",
                    "AND",
                    "XOR",
                    "NAND"
                ],
                correct: 1,
                type: "single",
                explanation: "C·ªïng AND tr·∫£ v·ªÅ gi√° tr·ªã true (1) ch·ªâ khi c·∫£ hai to√°n h·∫°ng ƒë·ªÅu l√† true (1)."
            },
            {
                id: 30,
                question: "We have a long-term queue of process requests, typically stored on:",
                options: [
                    "main memory",
                    "disk",
                    "cache memory",
                    "registers"
                ],
                correct: 1,
                type: "single",
                explanation: "Disk l√† n∆°i l∆∞u tr·ªØ c√°c y√™u c·∫ßu ti·∫øn tr√¨nh d√†i h·∫°n trong h·ªá th·ªëng."
            },
            {
                id: 31,
                question: "Which registers can be assigned to a variety of functions by the programmer?",
                options: [
                    "Data registers",
                    "General purpose registers",
                    "Address registers",
                    "Condition codes (flags)"
                ],
                correct: 1,
                type: "single",
                explanation: "General purpose registers c√≥ th·ªÉ ƒë∆∞·ª£c l·∫≠p tr√¨nh vi√™n g√°n cho nhi·ªÅu ch·ª©c nƒÉng kh√°c nhau trong qu√° tr√¨nh x·ª≠ l√Ω."
            },
            {
                id: 32,
                question: "The hardware mechanism that allows a device to notify the CPU is called:",
                options: [
                    "polling",
                    "interrupt",
                    "driver",
                    "controlling"
                ],
                correct: 1,
                type: "single",
                explanation: "Interrupt l√† c∆° ch·∫ø ph·∫ßn c·ª©ng cho ph√©p m·ªôt thi·∫øt b·ªã g·ª≠i t√≠n hi·ªáu y√™u c·∫ßu CPU th·ª±c hi·ªán m·ªôt t√°c v·ª•."
            },
            {
                id: 33,
                question: "What is a branch instruction?",
                options: [
                    "The instructions that are used to divide a program into multiple subprograms",
                    "The instructions that have as one of its operands the address of the next instruction to be executed",
                    "The instructions that are used to pause the program",
                    "The instructions that are used to return to the beginning of the program"
                ],
                correct: 1,
                type: "single",
                explanation: "Branch instructions l√† c√°c l·ªánh c√≥ m·ªôt trong c√°c to√°n h·∫°ng l√† ƒë·ªãa ch·ªâ c·ªßa l·ªánh ti·∫øp theo s·∫Ω ƒë∆∞·ª£c th·ª±c thi, cho ph√©p thay ƒë·ªïi d√≤ng ch·∫£y ch∆∞∆°ng tr√¨nh."
            },
            {
                id: 34,
                question: "Which of the following statement is correct about addressing modes?",
                options: [
                    "They define how the operands of an instruction are specified, including immediate, register, direct, and indirect addressing modes",
                    "Addressing modes are irrelevant in computer architecture, and all instructions only operate on values stored in registers",
                    "Addressing modes are limited to only immediate and direct modes; register and indirect addressing modes are not used in modern computer systems",
                    "All instructions in computer architecture use indirect addressing modes, making it the only relevant mode for operand specification"
                ],
                correct: 0,
                type: "single",
                explanation: "Addressing modes x√°c ƒë·ªãnh c√°ch c√°c to√°n h·∫°ng c·ªßa m·ªôt l·ªánh ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh, v√≠ d·ª• nh∆∞ tr·ª±c ti·∫øp (direct), gi√°n ti·∫øp (indirect), v√† ngay l·∫≠p t·ª©c (immediate)."
            },
            {
                id: 35,
                question: "A benchmark program is running on a 400 MHz processor. The executed program consists of 500 instruction executions, with the following instruction mix and clock cycle count:<br>‚Ä¢ Instruction type: Arithmetic (300 instructions), Data transfer (100 instructions), Control transfer (100 instructions)<br>‚Ä¢ Cycles per instruction: Arithmetic (1), Data transfer (2), Control transfer (2)<br><br>Calculate MIPS rate for this case.",
                options: [
                    "MIPS rate = 285.7",
                    "MIPS rate = 275.7",
                    "MIPS rate = 265.7",
                    "MIPS rate = 295.7"
                ],
                correct: 0,
                type: "single",
                explanation: "ƒê·ªÉ t√≠nh MIPS (Million Instructions Per Second), c·∫ßn t√≠nh t·ªïng s·ªë chu k·ª≥ c·ªßa c√°c l·ªánh v√† chia cho th·ªùi gian th·ª±c thi."
            },
            {
                id: 36,
                question: "In MASM32, which OPCODE is used to compare two values?",
                options: [
                    "COM",
                    "CMP",
                    "IF... ELSE",
                    "TEST"
                ],
                correct: 1,
                type: "single",
                explanation: "CMP l√† m√£ l·ªánh trong MASM32 d√πng ƒë·ªÉ so s√°nh hai gi√° tr·ªã."
            },
            {
                id: 37,
                question: "What is the primary purpose of the \"Fetch instruction\" phase in the operation of a processor?",
                options: [
                    "To read an instruction from memory",
                    "To interpret the instruction",
                    "To perform arithmetic operations on data",
                    "To write data to memory"
                ],
                correct: 0,
                type: "single",
                explanation: "M·ª•c ƒë√≠ch ch√≠nh c·ªßa giai ƒëo·∫°n Fetch instruction l√† ƒë·ªçc l·ªánh t·ª´ b·ªô nh·ªõ v√†o CPU ƒë·ªÉ th·ª±c thi."
            },
            {
                id: 38,
                question: "What is the role of the registers in a processor?",
                options: [
                    "Registers in a processor provide fast, temporary storage for data and instructions, facilitating efficient access during instruction execution",
                    "Registers are only used to store data temporarily during the execution of a program and do not contribute to the processing of instructions",
                    "Registers are solely responsible for storing data from the main memory and have no involvement in holding instructions or facilitating data manipulation",
                    "Registers are only necessary when the CPU is idle and have no impact on the speed or efficiency of instruction execution"
                ],
                correct: 0,
                type: "single",
                explanation: "Registers trong CPU cung c·∫•p b·ªô nh·ªõ t·∫°m th·ªùi nhanh ch√≥ng cho d·ªØ li·ªáu v√† l·ªánh, gi√∫p tƒÉng t·ªëc ƒë·ªô truy xu·∫•t khi th·ª±c thi l·ªánh."
            },
            {
                id: 39,
                question: "What is the significance of the program counter (PC) in the fetch phase of the instruction cycle?",
                options: [
                    "The program counter (PC) is not used in the fetch phase, and its role is limited to tracking the number of instructions executed by the CPU",
                    "The program counter (PC) in the fetch phase holds the memory address of the next instruction to be fetched and executed",
                    "The program counter (PC) is responsible for executing instructions and has no specific role during the fetch phase",
                    "The program counter (PC) is only relevant in multi-core processors and does not contribute to the fetch phase of the instruction cycle in single-core systems"
                ],
                correct: 1,
                type: "single",
                explanation: "Program Counter (PC) l∆∞u ƒë·ªãa ch·ªâ b·ªô nh·ªõ c·ªßa l·ªánh ti·∫øp theo c·∫ßn l·∫•y v√† th·ª±c thi trong giai ƒëo·∫°n Fetch."
            },
            {
                id: 40,
                question: "Which of the following statement is correct in the context of Instruction Pipelining?",
                options: [
                    "Instruction Pipelining reduces the efficiency of instruction execution by introducing delays and dependencies between instructions",
                    "Instruction Pipelining is only effective for specific types of instructions and has no impact on the overall efficiency of instruction execution",
                    "Instruction Pipelining enhances efficiency by enabling simultaneous execution of multiple instructions in different stages, boosting overall throughput",
                    "Instruction Pipelining improves efficiency by processing multiple instructions simultaneously, reducing execution time. However, it can face challenges like hazards, introducing delays and impacting overall performance"
                ],
                correct: 3,
                type: "single",
                explanation: "Instruction Pipelining gi√∫p tƒÉng hi·ªáu su·∫•t b·∫±ng c√°ch x·ª≠ l√Ω nhi·ªÅu l·ªánh ƒë·ªìng th·ªùi. Tuy nhi√™n, n√≥ c√≥ th·ªÉ g·∫∑p ph·∫£i m·ªôt s·ªë v·∫•n ƒë·ªÅ nh∆∞ hazards, g√¢y ra ƒë·ªô tr·ªÖ v√† ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu su·∫•t chung."
            },
            {
                id: 41,
                question: "What does CISC stand for?",
                options: [
                    "Complex Instruction Set Computer",
                    "Computer Instruction Set Complex",
                    "Complex Instruction Summarize Computer",
                    "Computer Instruction Summarize Complex"
                ],
                correct: 0,
                type: "single",
                explanation: "CISC (Complex Instruction Set Computer) l√† m·ªôt lo·∫°i ki·∫øn tr√∫c m√°y t√≠nh c√≥ b·ªô ch·ªâ th·ªã ph·ª©c t·∫°p, trong ƒë√≥ m·ªói l·ªánh c√≥ th·ªÉ th·ª±c hi·ªán nhi·ªÅu thao t√°c ph·ª©c t·∫°p."
            },
            {
                id: 42,
                question: "What is one of the advantages of using a register file in computer architecture?",
                options: [
                    "Reduction in memory accesses, saving time",
                    "More efficient use of space due to dynamic adaptation",
                    "Efficient handling of both local and global variables",
                    "Easier management of cache residency"
                ],
                correct: 0,
                type: "single",
                explanation: "Register file gi√∫p gi·∫£m thi·ªÉu vi·ªác truy xu·∫•t b·ªô nh·ªõ, v√¨ c√°c thanh ghi trong CPU c√≥ th·ªÉ ch·ª©a c√°c gi√° tr·ªã t·∫°m th·ªùi c·∫ßn thi·∫øt cho vi·ªác t√≠nh to√°n, t·ª´ ƒë√≥ ti·∫øt ki·ªám th·ªùi gian."
            },
            {
                id: 43,
                question: "What is the main benefit of using RISC over CISC?",
                options: [
                    "RISC has more instructions and addressing modes than CISC",
                    "RISC has faster instruction execution and simpler instruction decoding than CISC",
                    "RISC has variable-length instruction formats and direct memory access than CISC",
                    "RISC has more registers and pipelines than CISC"
                ],
                correct: 1,
                type: "single",
                explanation: "RISC (Reduced Instruction Set Computer) c√≥ ∆∞u ƒëi·ªÉm l√† l·ªánh ƒë∆°n gi·∫£n v√† d·ªÖ gi·∫£i m√£ h∆°n, gi√∫p th·ª±c thi nhanh ch√≥ng so v·ªõi CISC, v·ªën c√≥ b·ªô l·ªánh ph·ª©c t·∫°p."
            },
            {
                id: 44,
                question: "In SuperScalar computer architecture, the primary goal of utilizing multiple processors concurrently is to",
                options: [
                    "Increase processing speed by increasing CPU frequency",
                    "Improve performance by executing more than one instruction per machine cycle",
                    "Reduce the size of the CPU to conserve energy",
                    "Enhance computational power by increasing the number of CPU cores"
                ],
                correct: 1,
                type: "single",
                explanation: "SuperScalar l√† ki·∫øn tr√∫c cho ph√©p th·ª±c thi nhi·ªÅu l·ªánh trong m·ªôt chu k·ª≥ m√°y, gi√∫p tƒÉng hi·ªáu su·∫•t t·ªïng th·ªÉ c·ªßa h·ªá th·ªëng."
            },
            {
                id: 45,
                question: "_____ is (are) determined by the number of instructions that can be fetched and executed at the same time (the number of parallel pipelines) and by the speed and sophistication of the mechanisms that the processor uses to find independent instructions.",
                options: [
                    "Instruction-level parallelism",
                    "Machine parallelism",
                    "Both instruction-level parallelism and machine parallelism",
                    "None of the mentioned"
                ],
                correct: 0,
                type: "single",
                explanation: "Instruction-level parallelism (ILP) ƒë·ªÅ c·∫≠p ƒë·∫øn kh·∫£ nƒÉng th·ª±c thi c√°c l·ªánh song song trong m·ªôt chu k·ª≥ m√°y, t√πy thu·ªôc v√†o s·ªë l∆∞·ª£ng pipeline v√† kh·∫£ nƒÉng t√¨m ki·∫øm l·ªánh ƒë·ªôc l·∫≠p."
            },
            {
                id: 46,
                question: "\"Multiple processors share a single memory or pool of memory by means of a shared bus or other interconnection mechanism; a distinguishing feature is that the memory access time to any region of memory is approximately the same for each processor\". Which concept does the statement belong to?",
                options: [
                    "Symmetric multiprocessor (SMP)",
                    "Nonuniform memory access (NUMA)",
                    "Cluster",
                    "Single instruction, multiple data (SIMD)"
                ],
                correct: 0,
                type: "single",
                explanation: "SMP l√† m·ªôt h·ªá th·ªëng nhi·ªÅu b·ªô x·ª≠ l√Ω chia s·∫ª b·ªô nh·ªõ chung, v·ªõi ƒë·∫∑c ƒëi·ªÉm l√† t·∫•t c·∫£ c√°c b·ªô x·ª≠ l√Ω c√≥ th·ªùi gian truy c·∫≠p b·ªô nh·ªõ g·∫ßn nh∆∞ nhau."
            },
            {
                id: 47,
                question: "Which write technique in which all write operations are made to main memory as well as to the cache, ensuring that main memory is always valid.",
                options: [
                    "Write through",
                    "Write back",
                    "Write around",
                    "No write allocate"
                ],
                correct: 0,
                type: "single",
                explanation: "Write-through l√† k·ªπ thu·∫≠t trong ƒë√≥ m·ªçi thao t√°c ghi d·ªØ li·ªáu ƒë∆∞·ª£c th·ª±c hi·ªán ƒë·ªìng th·ªùi l√™n b·ªô nh·ªõ ch√≠nh v√† b·ªô nh·ªõ cache, ƒë·∫£m b·∫£o b·ªô nh·ªõ ch√≠nh lu√¥n c√≥ d·ªØ li·ªáu h·ª£p l·ªá."
            },
            {
                id: 48,
                question: "How does multithreading improve the performance of a processor?",
                options: [
                    "It increases the instruction-level parallelism by issuing multiple instructions from different threads in the same cycle",
                    "It increases the thread-level parallelism by executing multiple threads on different cores or processors",
                    "It increases the utilization of the processor resources by hiding the latency of long-latency events such as cache misses or branch mispredictions",
                    "All of the mentioned"
                ],
                correct: 2,
                type: "single",
                explanation: "Multithreading c·∫£i thi·ªán hi·ªáu su·∫•t c·ªßa CPU b·∫±ng c√°ch gi·∫•u ƒëi ƒë·ªô tr·ªÖ c·ªßa c√°c s·ª± ki·ªán d√†i h·∫°n nh∆∞ l·ªói truy xu·∫•t cache ho·∫∑c l·ªói d·ª± ƒëo√°n nh√°nh."
            },
            {
                id: 49,
                question: "Follow the Amdahl's law for multiprocessors, if only 10% of the code is inherently serial (f = 0.9), running the program on a multicore system with 4 processors, a performance gain (speedup factor) would be",
                options: [
                    "307%",
                    "297%",
                    "317%",
                    "327%"
                ],
                correct: 0,
                type: "single",
                explanation: "√Åp d·ª•ng ƒë·ªãnh lu·∫≠t Amdahl v·ªõi f = 0.1 (10% m√£ tu·∫ßn t·ª±) v√† P = 4 (4 b·ªô x·ª≠ l√Ω), hi·ªáu qu·∫£ tƒÉng t·ªëc ƒë∆∞·ª£c t√≠nh theo c√¥ng th·ª©c: S = 1 / (f + (1-f)/P) = 1 / (0.1 + 0.9/4) ‚âà 3.077 hay 307%."
            },
            {
                id: 50,
                question: "What is the most common mapping technique used in cache memory in modern computers?",
                options: [
                    "Direct Mapping",
                    "Fully Associative",
                    "Set Associative",
                    "None of the mentioned"
                ],
                correct: 2,
                type: "single",
                explanation: "K·ªπ thu·∫≠t √°nh x·∫° b·ªô nh·ªõ cache ph·ªï bi·∫øn nh·∫•t trong c√°c m√°y t√≠nh hi·ªán ƒë·∫°i l√† Set Associative, n∆°i m·ªói block c√≥ th·ªÉ ƒë∆∞·ª£c √°nh x·∫° ƒë·∫øn nhi·ªÅu 'bucket' trong cache, l√†m gi·∫£m kh·∫£ nƒÉng x·∫£y ra xung ƒë·ªôt."
            }
        ];

        let userAnswers = {};
        let showingAnswers = false;
        let answeredQuestions = new Set();

        function initQuiz() {
            renderAllQuestions();
            updateScoreSummary();
        }

        function renderAllQuestions() {
            const quizContent = document.getElementById('quizContent');
            
            quizContent.innerHTML = questions.map(question => `
                <div class="question-item" id="question-${question.id}">
                    <div class="question-header">
                        <div class="question-number">C√¢u ${question.id}</div>
                        <div class="question-status" id="status-${question.id}">‚ùì</div>
                    </div>
                    
                    <div class="question-text">${question.question}</div>
                    
                    <div class="options-container">
                        ${question.options.map((option, index) => `
                            <div class="option-item" onclick="selectOption(${question.id}, ${index})">
                                ${question.type === 'multiple' ? 
                                    `<input type="checkbox" class="option-checkbox" id="q${question.id}-opt${index}" onchange="selectOption(${question.id}, ${index})">` :
                                    `<input type="radio" name="q${question.id}" class="option-radio" id="q${question.id}-opt${index}" onchange="selectOption(${question.id}, ${index})">`
                                }
                                <label class="option-text" for="q${question.id}-opt${index}">
                                    ${String.fromCharCode(65 + index)}. ${option}
                                </label>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="explanation" id="explanation-${question.id}">
                        <h4><span class="icon">üí°</span>Gi·∫£i th√≠ch:</h4>
                        <p>${question.explanation}</p>
                    </div>
                </div>
            `).join('');
        }

        function selectOption(questionId, optionIndex) {
            if (answeredQuestions.has(questionId)) return;
            
            const question = questions.find(q => q.id === questionId);
            const optionElement = document.getElementById(`q${questionId}-opt${optionIndex}`);
            
            if (showingAnswers) return;
            
            if (question.type === 'multiple') {
                if (!userAnswers[questionId]) {
                    userAnswers[questionId] = [];
                }
                
                if (optionElement.checked) {
                    if (!userAnswers[questionId].includes(optionIndex)) {
                        userAnswers[questionId].push(optionIndex);
                    }
                } else {
                    userAnswers[questionId] = userAnswers[questionId].filter(idx => idx !== optionIndex);
                }
                
                const correctAnswers = Array.isArray(question.correct) ? question.correct : [question.correct];
                if (userAnswers[questionId] && userAnswers[questionId].length === correctAnswers.length) {
                    answeredQuestions.add(questionId);
                    disableQuestionOptions(questionId);
                    showQuestionFeedback(questionId);
                }
            } else {
                userAnswers[questionId] = optionIndex;
                answeredQuestions.add(questionId);
                disableQuestionOptions(questionId);
                showQuestionFeedback(questionId);
            }
            
            updateQuestionStatus(questionId);
            updateScoreSummary();
        }

        function disableQuestionOptions(questionId) {
            const optionElements = document.querySelectorAll(`[id^="q${questionId}-opt"]`);
            optionElements.forEach(element => {
                element.disabled = true;
                element.parentElement.style.pointerEvents = 'none';
                element.parentElement.style.opacity = '0.7';
            });
        }

        function showQuestionFeedback(questionId) {
            const question = questions.find(q => q.id === questionId);
            const explanationElement = document.getElementById(`explanation-${questionId}`);
            
            explanationElement.classList.add('show');
            
            const optionElements = document.querySelectorAll(`[id^="q${questionId}-opt"]`);
            optionElements.forEach((element, index) => {
                const optionContainer = element.parentElement;
                optionContainer.classList.remove('correct', 'incorrect', 'user-selected', 'user-incorrect');
                
                const existingIndicator = optionContainer.querySelector('.answer-indicator');
                if (existingIndicator) {
                    existingIndicator.remove();
                }
                
                const userAnswer = userAnswers[questionId];
                const isUserSelection = question.type === 'multiple' ? 
                    (userAnswer && userAnswer.includes(index)) : 
                    (userAnswer === index);
                
                if (question.type === 'multiple') {
                    const correctAnswers = Array.isArray(question.correct) ? question.correct : [question.correct];
                    
                    if (correctAnswers.includes(index)) {
                        optionContainer.classList.add('correct');
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator correct-indicator';
                        indicator.textContent = isUserSelection ? '‚úì ƒê√∫ng' : '‚úì ƒê√°p √°n ƒë√∫ng';
                        optionContainer.appendChild(indicator);
                    } else if (isUserSelection) {
                        optionContainer.classList.add('user-incorrect');
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator incorrect-indicator';
                        indicator.textContent = '‚úó Sai';
                        optionContainer.appendChild(indicator);
                    }
                } else {
                    if (index === question.correct) {
                        optionContainer.classList.add('correct');
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator correct-indicator';
                        indicator.textContent = '‚úì ƒê√°p √°n ƒë√∫ng';
                        optionContainer.appendChild(indicator);
                    } else if (isUserSelection) {
                        optionContainer.classList.add('user-incorrect');
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator incorrect-indicator';
                        indicator.textContent = '‚úó Sai';
                        optionContainer.appendChild(indicator);
                    }
                }
            });
        }

        function hideQuestionFeedback(questionId) {
            const explanationElement = document.getElementById(`explanation-${questionId}`);
            explanationElement.classList.remove('show');
            
            const optionElements = document.querySelectorAll(`[id^="q${questionId}-opt"]`);
            optionElements.forEach((element, index) => {
                const optionContainer = element.parentElement;
                optionContainer.classList.remove('correct', 'incorrect', 'user-selected', 'user-incorrect');
                
                const existingIndicator = optionContainer.querySelector('.answer-indicator');
                if (existingIndicator) {
                    existingIndicator.remove();
                }
            });
        }

        function updateQuestionStatus(questionId) {
            const question = questions.find(q => q.id === questionId);
            const statusElement = document.getElementById(`status-${questionId}`);
            const questionElement = document.getElementById(`question-${questionId}`);
            
            let isAnswered = false;
            if (question.type === 'multiple') {
                const correctAnswers = Array.isArray(question.correct) ? question.correct : [question.correct];
                isAnswered = userAnswers[questionId] && userAnswers[questionId].length === correctAnswers.length;
            } else {
                isAnswered = userAnswers[questionId] !== undefined;
            }
            
            if (isAnswered) {
                if (showingAnswers || hasQuestionFeedback(questionId)) {
                    const isCorrect = checkAnswer(questionId);
                    statusElement.textContent = isCorrect ? '‚úÖ' : '‚ùå';
                    questionElement.className = `question-item ${isCorrect ? 'answered' : 'incorrect'}`;
                } else {
                    statusElement.textContent = '‚úèÔ∏è';
                    questionElement.className = 'question-item answered';
                }
            } else {
                statusElement.textContent = '‚ùì';
                questionElement.className = 'question-item';
            }
        }

        function hasQuestionFeedback(questionId) {
            const explanationElement = document.getElementById(`explanation-${questionId}`);
            return explanationElement.classList.contains('show');
        }

        function checkAnswer(questionId) {
            const question = questions.find(q => q.id === questionId);
            const userAnswer = userAnswers[questionId];
            
            if (question.type === 'multiple') {
                if (!userAnswer || userAnswer.length === 0) return false;
                const correctAnswers = Array.isArray(question.correct) ? question.correct : [question.correct];
                return userAnswer.length === correctAnswers.length && 
                       userAnswer.every(ans => correctAnswers.includes(ans));
            } else {
                return userAnswer === question.correct;
            }
        }

        function updateScoreSummary() {
            const answeredCount = Object.keys(userAnswers).filter(qId => {
                const question = questions.find(q => q.id == qId);
                const answer = userAnswers[qId];
                return answer !== undefined && 
                       (question.type === 'single' || (question.type === 'multiple' && answer.length > 0));
            }).length;
            
            const correctCount = Object.keys(userAnswers).filter(qId => checkAnswer(parseInt(qId))).length;
            const percentage = answeredCount > 0 ? Math.round((correctCount / questions.length) * 100) : 0;
            
            document.getElementById('answeredCount').textContent = answeredCount;
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('scorePercentage').textContent = percentage + '%';
        }

        function showAllAnswers() {
            showingAnswers = true;
            
            questions.forEach(question => {
                answeredQuestions.add(question.id);
                const explanationElement = document.getElementById(`explanation-${question.id}`);
                explanationElement.classList.add('show');
                
                const optionElements = document.querySelectorAll(`[id^="q${question.id}-opt"]`);
                optionElements.forEach((element, index) => {
                    const optionContainer = element.parentElement;
                    optionContainer.classList.remove('correct', 'incorrect', 'selected', 'user-selected', 'user-incorrect');
                    
                    const existingIndicator = optionContainer.querySelector('.answer-indicator');
                    if (existingIndicator) {
                        existingIndicator.remove();
                    }
                    
                    if (question.type === 'multiple') {
                        const correctAnswers = Array.isArray(question.correct) ? question.correct : [question.correct];
                        if (correctAnswers.includes(index)) {
                            optionContainer.classList.add('correct');
                            const indicator = document.createElement('span');
                            indicator.className = 'answer-indicator correct-indicator';
                            indicator.textContent = '‚úì ƒê√∫ng';
                            optionContainer.appendChild(indicator);
                        }
                    } else {
                        if (index === question.correct) {
                            optionContainer.classList.add('correct');
                            const indicator = document.createElement('span');
                            indicator.className = 'answer-indicator correct-indicator';
                            indicator.textContent = '‚úì ƒê√°p √°n ƒë√∫ng';
                            optionContainer.appendChild(indicator);
                        }
                    }
                    
                    element.disabled = true;
                });
                
                updateQuestionStatus(question.id);
            });
            
            updateScoreSummary();
        }

        function checkAllAnswers() {
            showingAnswers = true;
            
            questions.forEach(question => {
                answeredQuestions.add(question.id);
                showQuestionFeedback(question.id);
                updateQuestionStatus(question.id);
                
                const optionElements = document.querySelectorAll(`[id^="q${question.id}-opt"]`);
                optionElements.forEach(element => {
                    element.disabled = true;
                });
            });
            
            updateScoreSummary();
        }

        function resetQuiz() {
            userAnswers = {};
            showingAnswers = false;
            answeredQuestions.clear();
            
            document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
                input.checked = false;
                input.disabled = false;
                input.parentElement.style.pointerEvents = 'auto';
                input.parentElement.style.opacity = '1';
            });
            
            questions.forEach(question => {
                hideQuestionFeedback(question.id);
            });
            
            document.querySelectorAll('.option-item').forEach(option => {
                option.classList.remove('correct', 'incorrect', 'selected', 'user-selected', 'user-incorrect');
                const indicator = option.querySelector('.answer-indicator');
                if (indicator) {
                    indicator.remove();
                }
            });
            
            questions.forEach(question => {
                updateQuestionStatus(question.id);
            });
            
            updateScoreSummary();
        }

        // Initialize quiz when page loads with error handling
        document.addEventListener('DOMContentLoaded', function() {
            try {
                initQuiz();
            } catch (error) {
                console.error('Error initializing quiz:', error);
            }
        });
    </script>
</body>
</html>
